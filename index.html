<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>BagueTest</title>
    <link href="css/style.css" rel="stylesheet">
    <!-- API -->

    <!-- Fichiers locaux -->
  </head>
  <body>
    <div class="iwantToBreadFree">

        <div class="titleQuestion" id="titleQ">
            <h1>Quelle baguette es-tu ?</h1>
        </div>

        <div class="box" >
            <h2 id="question"> You go to the bakery, you ask: </h2>

            <ul>
                <li>
                    <input type="checkbox" id="checkbox1" name="choix">
                    <label for="choix" id="label1">A baguette</label>
                </li>
                <li>
                    <input type="checkbox" id="checkbox2" name="choix">
                    <label for="choix" id="label2">A well-cooked baguette</label>
                </li>
                <li>
                    <input type="checkbox" id="checkbox3" name="choix">
                    <label for="choix" id="label3">An undercooked baguette</label>
                </li>
                <li>
                    <input type="checkbox" id="checkbox4" name="choix">
                    <label for="choix" id="label4">Scones (seriously ?)</label>
                </li>
            </ul>
            <button type="submit" id="btn" onclick="change()">Next question</button>


        </div>


    </div>

  </body>

  <script>
      var id = 0;

    var questions = ["You go to the bakery, you ask :", "What do you have for breakfast ?", "What causes the end of the dinosaurs ?", "What is your favorite word ?", "You are alone on a desert island, you think of :", "I have 4 arms, 5 legs, 3 heads and 12 fingers, who am I ?", "What is the difference between an English and a French ?", "Who do you think are the best ?"];

    var rep = [["A baguette", "A slice of semi-salted butter accompanied by its wild berry jam", "They drank gallons of tea", "Baguette","A crispy baguette", "A liar","His relationship to royalty","Croissant eaters"],
                ["A well-cooked baguette", "A butter croissant", "They didn't have baguette", "Deja Vu","Well caramelized French toast", "An English","The amount of beer drunk each year","Baguette eaters"],
                ["An undercooked baguette", "A fried egg lying around in the fridge for a long time", "Joan of Arc was not born", "Rendez Vous","A pancake", "An American","When they are old they go to each other's country","The European Rugby Champions 2020"],
                ["Scones (seriously ?)", "What is breakfast?", "The three", "France","Answer D", "The three","Self-mockery","Everything except England"]]

      var question = document.getElementById("question");
      var checkbox = [document.getElementById("checkbox1"), document.getElementById("checkbox2"), document.getElementById("checkbox3"), document.getElementById("checkbox4")];
      var label = [document.getElementById("label1"), document.getElementById("label2"), document.getElementById("label3"), document.getElementById("label4")];
      var btn = document.getElementById('btn');

      var change = function() {
          if(btn.innerHTML == "Send") {
            alert("Questionnaire fini!");
          }
          else {
            id+=1;
            if(id == questions.length-1)
                btn.innerHTML="Send";
            question.innerHTML=questions[id];
            for (let i = 0; i < 8; i++) {
                const e = label[i];
                if(rep[i][id].length > 0) {
                    e.innerHTML=rep[i][id];
                    checkbox[i].hidden = false;
                    e.hidden = false;
                }
                else {
                    checkbox[i].hidden = true;
                    console.log(checkbox[i]);
                    e.hidden = true;
                }
            }
            label2.innerHTML=rep2[id];
            label3.innerHTML=rep3[id];
            label4.innerHTML=rep4[id];  
            }     
      }
  </script>
</html>